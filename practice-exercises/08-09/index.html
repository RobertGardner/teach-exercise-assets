<!DOCTYPE html>
<html class="writer-html5" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>
      Challenge: Validate Binary Search Tree - Exercise Assets
    </title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css"
    />
    <link href="../../styles.css" rel="stylesheet" /> 
    <script>
      // Current page data
      var mkdocs_page_name = "Challenge: Validate Binary Search Tree";
      var mkdocs_page_input_path = "practice-exercises/08-09/index.md";
      var mkdocs_page_url = null;
    </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script> 
  </head>
  <body class="wy-body-for-nav" role="document">
    <div class="wy-grid-for-nav">
      <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
        <header>
          <div><p>Practice Exercises</p></div>
        </header>
        <div class="wy-nav-content">
          <div class="rst-content">
            <div
              role="main"
              class="document"
              itemscope="itemscope"
              itemtype="http://schema.org/Article"
            >
              <div class="section" itemprop="articleBody">
                 <h1 id="challenge-validate-binary-search-tree">Challenge: Validate Binary Search Tree</h1>
<h2 id="instructions">Instructions</h2>
<p>Write a function called <code>isValidBST</code> that takes in the following parameters:</p>
<ul>
<li><code>root</code> - The root/current node of a binary tree.</li>
</ul>
<p>The function should return a boolean indicating whether the binary tree is a valid binary search tree (BST).</p>
<p>You want to check ALL subtrees, not just the right and left of the root node. You probably want to create a helper function to call recursively that takes in a <code>min</code> and <code>max</code> value. Make sure that anything on the left of the node is less than the max (parent node) and anything on the right is more than the min (parent node).</p>
<h3 id="binary-tree-node">Binary Tree Node</h3>
<p>Here's the definition of the binary tree node:</p>
<pre><code class="language-js">export class Node {
  value: number;
  left: Node | undefined = undefined;
  right: Node | undefined = undefined;

  constructor(value: number) {
    this.value = value;
  }
}
</code></pre>
<h3 id="valid-binary-search-tree-bst">Valid Binary Search Tree (BST)</h3>
<p>A binary search tree (BST) is a binary tree where each node has a value, and all the nodes in the left subtree have values less than the current node's value, while all the nodes in the right subtree have values greater than the current node's value. Additionally, the left and right subtrees must also be valid binary search trees.</p>
<h3 id="function-signature">Function Signature</h3>
<pre><code class="language-js">/**
 * Returns a boolean indicating whether the binary tree is a valid binary search tree (BST).
 * @param root The root node of the binary tree.
 * @returns A boolean indicating whether the binary tree is a valid binary search tree (BST).
 */
function isValidBST(root: Node): boolean;
</code></pre>
<h3 id="examples">Examples</h3>
<pre><code class="language-js">// Input: root = [2,1,3]
// Output: true
// Explanation: The binary tree is as follows:
//     2
//    / \
//   1   3
// This is a valid binary search tree.

// Input: root = [5,1,4,null,null,3,6]
// Output: false
// Explanation: The binary tree is as follows:
//      5
//     / \
//    1   4
//       / \
//      3   6
// The node with a value of 4 has its left child with a value of 3, which violates the BST property, so it is not a valid BST.
</code></pre>
<h3 id="hints">Hints</h3>
<ul>
<li>You can solve this problem using a depth-first traversal approach.</li>
<li>Use recursion to explore the left and right subtrees of each node and check if the current node's value is within the valid range based on its position in the binary search tree.</li>
</ul>
<h2 id="solutions">Solutions</h2>
<details>
<summary>Click For Solution</summary>
<pre><code class="language-js">export class Node {
  value: number;
  left: Node | undefined = undefined;
  right: Node | undefined = undefined;

  constructor(value: number) {
    this.value = value;
  }
}

export function isValidBST(root: Node): boolean {
  // Helper function to check if all values in a subtree are within the specified range
  function isValidSubtree(
    node: Node | undefined,
    min?: number,
    max?: number
  ): boolean {
    if (!node) {
      return true;
    }

    if (
      (min !== undefined &amp;&amp; node.value &lt;= min) ||
      (max !== undefined &amp;&amp; node.value &gt;= max)
    ) {
      return false;
    }

    // For the left subtree, values must be less than the current node's value (max = node.value)
    // For the right subtree, values must be greater than the current node's value (min = node.value)
    return (
      isValidSubtree(node.left, min, node.value) &amp;&amp;
      isValidSubtree(node.right, node.value, max)
    );
  }

  return isValidSubtree(root, undefined, undefined);
}
</code></pre>
<h3 id="explanation">Explanation</h3>
<p>The solution to this problem is to use a depth-first traversal approach to recursively explore the left and right subtrees of each node and check if the current node's value is within the valid range based on its position in the binary search tree.</p>
<ul>
<li>Create a helper function, <code>isValidSubtree</code> to check if all values in a subtree are within a specified range.</li>
<li>In the helper function:</li>
<li>Check if the current node is <code>undefined</code>. If it is, return <code>true</code> because an empty tree is a valid binary search tree.</li>
<li>Check if the current node's value is less than or equal to the <code>min</code> value or greater than or equal to the <code>max</code> value. If it is, return <code>false</code> because the current node's value is not within the valid range based on its position in the binary search tree.</li>
<li>Recursively call the <code>isValidSubtree</code> function on the current node's left subtree, passing in the <code>min</code> value and the current node's value as the <code>max</code> value.</li>
<li>Recursively call the <code>isValidSubtree</code> function on the current node's right subtree, passing in the current node's value as the <code>min</code> value and the <code>max</code> value.</li>
<li>Cal the helper function on the root with initial range of <code>undefined</code>.</li>
</ul>
<h3 id="try-it-out">Try It Out</h3>
<p>Let's test out our solution with the following binary search tree:</p>
<pre><code class="language-js">/*

     8
    / \
   4   10
  / \
 2   6

*/
</code></pre>
<pre><code class="language-js">const root = new Node(8);
const node4 = new Node(4); // left
const node10 = new Node(10); // right
const node2 = new Node(2); // left
const node6 = new Node(6); // right

root.left = node4;
root.right = node10;
node4.left = node2;
node4.right = node6;

console.log(isValidBST(root));
</code></pre>
</details> 
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>
      var base_url = "../..";
    </script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script> <script src="../../search/main.js"></script>
    <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
    </script>
  </body>
</html>
